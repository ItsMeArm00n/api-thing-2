<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AQIntel - Air Pollution Level Predictor</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-primary: #0a0a0a;
      --bg-secondary: #111111;
      --bg-tertiary: #1a1a1a;
      --text-primary: #ffffff;
      --text-secondary: #bbbbbb;
      --text-tertiary: #888888;
      --accent-color: #4CAF50;
      --accent-hover: #45a049;
      --accent-glow: rgba(76, 175, 80, 0.4);
      --border-color: #333333;
      --shadow-color: rgba(0,0,0,0.5);
      --toggle-green: #4CAF50;
      --toggle-black: #000000;
      --nav-height: 70px;
      --low-color: #4CAF50;
      --medium-color: #FFC107;
      --high-color: #F44336;
      --card-radius: 15px;
      --button-radius: 8px;
      --spacing-xs: 5px;
      --spacing-sm: 10px;
      --spacing-md: 15px;
      --spacing-lg: 25px;
      --spacing-xl: 40px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      transition: all 0.3s ease;
    }

    body {
      background-color: var(--bg-primary);
      color: var(--text-primary);
      font-family: 'Poppins', sans-serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 0 0 40px 0;
      overflow-x: hidden;
    }

    /* Navigation Bar */
    header {
      width: 100%;
      background-color: rgba(10, 10, 10, 0.9);
      backdrop-filter: blur(10px);
      box-shadow: 0 4px 15px var(--shadow-color);
      position: fixed;
      top: 0;
      z-index: 100;
      height: var(--nav-height);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 5%;
    }

    .logo {
      display: flex;
      align-items: center;
    }

    .logo img {
      height: 40px;
      margin-right: 10px;
    }

    .logo-text {
      font-size: 24px;
      font-weight: 700;
      background: linear-gradient(90deg, var(--text-primary), var(--accent-color));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      position: relative;
    }

    .logo-text::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--accent-color), transparent);
      transition: width 0.5s ease;
    }

    .logo:hover .logo-text::after {
      width: 100%;
    }

    nav {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
    }

    nav ul {
      display: flex;
      list-style: none;
      justify-content: center;
    }

    nav ul li {
      margin: 0 15px;
    }

    nav ul li a {
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 16px;
      font-weight: 500;
      padding: 8px 12px;
      border-radius: 5px;
      transition: all 0.3s;
      position: relative;
      overflow: hidden;
    }

    nav ul li a::before {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 2px;
      background-color: var(--accent-color);
      transition: width 0.3s ease;
    }

    nav ul li a:hover::before {
      width: 80%;
    }

    nav ul li a:hover, nav ul li a.active {
      color: var(--text-primary);
    }

    nav ul li a.active {
      background-color: rgba(76, 175, 80, 0.1);
      color: var(--accent-color);
    }

    nav ul li a.active::before {
      width: 80%;
    }

    /* Homepage Styles */
    .homepage {
      width: 100%;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 0 20px;
      margin-top: var(--nav-height);
      position: relative;
      background: radial-gradient(circle at center, rgba(17, 17, 17, 0.7) 0%, rgba(8, 8, 8, 0.8) 100%);
      overflow: hidden;
    }

    .hero-content {
      max-width: 800px;
      margin: 0 auto;
      z-index: 2;
      opacity: 0;
      transform: translateY(30px);
      animation: fadeInUp 1s ease forwards 0.5s;
      text-align: center;
    }

    .app-icon {
      width: 100px;
      height: 100px;
      background-color: rgba(20, 20, 20, 0.8);
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 30px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3),
                  0 0 20px rgba(76, 175, 80, 0.2);
      position: relative;
      animation: float 6s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-15px);
      }
    }

    .app-icon::after {
      content: '';
      position: absolute;
      width: 100%;
      height: 20px;
      bottom: -20px;
      left: 0;
      background: radial-gradient(ellipse at top, rgba(76, 175, 80, 0.2), transparent 70%);
    }

    .app-icon svg {
      width: 60px;
      height: 60px;
      stroke: var(--text-primary);
      stroke-width: 2;
      fill: none;
    }

    .homepage h1 {
      font-size: 48px;
      font-weight: 700;
      margin-bottom: 20px;
      background: linear-gradient(90deg, var(--text-primary), #a0a0a0);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      position: relative;
      display: inline-block;
    }

    .homepage h1::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 3px;
      background: linear-gradient(90deg, transparent, var(--accent-color), transparent);
    }

    .homepage p {
      font-size: 18px;
      color: var(--text-secondary);
      line-height: 1.6;
      margin-bottom: 40px;
    }

    .cta-button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 14px 30px;
      background: linear-gradient(90deg, var(--accent-color), var(--accent-hover));
      color: white;
      border: none;
      border-radius: var(--button-radius);
      cursor: pointer;
      font-size: 18px;
      font-weight: 600;
      text-decoration: none;
      transition: transform 0.3s, box-shadow 0.3s;
      position: relative;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }

    .cta-button i {
      margin-left: 10px;
      transition: transform 0.3s;
    }

    .cta-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 20px var(--accent-glow);
    }

    .cta-button:hover i {
      transform: translateX(5px);
    }

    .cta-button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.7s;
    }

    .cta-button:hover::before {
      left: 100%;
    }

    .scroll-indicator {
      position: absolute;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      animation: bounce 2s infinite;
      color: var(--text-secondary);
      font-size: 24px;
      opacity: 0;
      animation: bounce 2s infinite, fadeIn 1s forwards 2s;
    }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% {
        transform: translateY(0) translateX(-50%);
      }
      40% {
        transform: translateY(-20px) translateX(-50%);
      }
      60% {
        transform: translateY(-10px) translateX(-50%);
      }
    }

    /* Main Content Styles */
    .main-content {
      width: 100%;
      max-width: 1200px;
      padding: 30px 20px;
      margin-top: 20px;
      display: none;
    }

    h1 {
      font-size: 32px;
      font-weight: 700;
      margin: 30px 0 10px;
      text-align: center;
      background: linear-gradient(90deg, var(--text-primary), var(--text-secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      position: relative;
      display: block;
    }

    h1::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 3px;
      background: linear-gradient(90deg, transparent, var(--accent-color), transparent);
    }

    p.subtitle {
      font-size: 16px;
      color: var(--text-secondary);
      text-align: center;
      max-width: 600px;
      margin: 0 auto 40px;
      padding: 0 20px;
    }

    .container {
      display: flex;
      flex-wrap: wrap;
      gap: 30px;
      justify-content: center;
      width: 100%;
      max-width: 1200px;
      padding: 0 20px;
      perspective: 1000px;
    }

    .card {
      background-color: var(--bg-secondary);
      border-radius: var(--card-radius);
      padding: 30px;
      box-shadow: 0 10px 30px var(--shadow-color);
      flex: 1 1 450px;
      max-width: 500px;
      transform: translateY(0) rotateX(0);
      transition: transform 0.5s ease, box-shadow 0.5s ease;
      position: relative;
      overflow: hidden;
      opacity: 0;
      animation: fadeIn 0.8s forwards;
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background: linear-gradient(90deg, transparent, var(--accent-color), transparent);
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.5s ease;
    }

    .card:hover::before {
      transform: scaleX(1);
    }

    .card:hover {
      transform: translateY(-5px) rotateX(5deg);
      box-shadow: 0 15px 35px var(--shadow-color), 0 5px 15px var(--accent-glow);
    }

    .card h2 {
      font-size: 22px;
      margin-bottom: 25px;
      text-align: center;
      font-weight: 600;
      position: relative;
      padding-bottom: 10px;
    }

    .card h2::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 3px;
      background: linear-gradient(90deg, var(--accent-color), var(--accent-hover));
      border-radius: 3px;
    }

    label {
      display: block;
      margin: 15px 0 8px;
      font-size: 14px;
      color: var(--text-secondary);
      font-weight: 500;
      transition: color 0.3s ease;
    }

    input, select {
      width: 100%;
      padding: 12px 15px;
      background-color: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      border-radius: 8px;
      color: var(--text-primary);
      font-size: 14px;
      font-family: 'Poppins', sans-serif;
      transition: border-color 0.3s, box-shadow 0.3s, transform 0.2s;
    }

    input:focus, select:focus {
      outline: none;
      border-color: var(--accent-color);
      box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);
      transform: translateY(-2px);
    }

    button {
      margin-top: 30px;
      width: 100%;
      padding: 14px;
      background: linear-gradient(90deg, var(--accent-color), var(--accent-hover));
      color: white;
      border: none;
      border-radius: var(--button-radius);
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      transition: transform 0.3s, box-shadow 0.3s;
      position: relative;
      overflow: hidden;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    }

    button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.7s;
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px var(--accent-glow);
    }

    button:hover::before {
      left: 100%;
    }

    button:active {
      transform: translateY(1px);
    }

    table {
      width: 100%;
      margin-top: 25px;
      border-collapse: collapse;
      background-color: var(--bg-tertiary);
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      animation: fadeIn 1s ease;
    }

    table th, table td {
      border: 1px solid var(--border-color);
      padding: 12px;
      text-align: center;
      font-size: 14px;
      transition: background-color 0.3s;
    }

    table th {
      background-color: #222;
      font-weight: 600;
      color: var(--text-primary);
    }

    table td {
      color: var(--text-secondary);
    }

    table tr:hover td {
      background-color: rgba(76, 175, 80, 0.05);
    }

    .footer-note {
      margin-top: 25px;
      text-align: center;
      font-size: 16px;
      color: var(--text-secondary);
      animation: pulse 2s infinite;
      position: relative;
      padding: 10px;
      border-radius: 8px;
      background-color: rgba(76, 175, 80, 0.05);
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .footer-note span {
      color: var(--accent-color);
      font-weight: bold;
      position: relative;
    }

    .footer-note span::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 100%;
      height: 1px;
      background-color: var(--accent-color);
      transform: scaleX(0);
      transform-origin: right;
      transition: transform 0.3s ease;
    }

    .footer-note:hover span::after {
      transform: scaleX(1);
      transform-origin: left;
    }

    /* Interface switching */
    .interface {
      width: 100%;
      opacity: 0;
      display: none;
      transform: translateY(20px);
      transition: opacity 0.5s, transform 0.5s;
    }

    .interface.active {
      opacity: 1;
      display: block;
      transform: translateY(0);
      animation: fadeInUp 0.8s ease;
    }

    .img-container {
      margin: 25px 0;
      text-align: center;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      position: relative;
    }

    .img-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, rgba(76, 175, 80, 0.2), transparent);
      opacity: 0;
      transition: opacity 0.5s;
    }

    .img-container:hover::before {
      opacity: 1;
    }

    .img-container img {
      max-width: 100%;
      height: auto;
      display: block;
      transition: transform 0.5s;
    }

    .img-container:hover img {
      transform: scale(1.03);
    }

    /* Popup Modal Styles - Smaller Size */
    #popup {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.8);
      align-items: center;
      justify-content: center;
      z-index: 1000;
      opacity: 0;
      transition: opacity 0.3s;
      perspective: 1000px;
    }

    #popup.active {
      opacity: 1;
    }

    .popup-content {
      background: var(--bg-secondary);
      padding: 25px;
      border-radius: 15px;
      text-align: center;
      max-width: 400px;
      width: 90%;
      box-shadow: 0 15px 40px rgba(0,0,0,0.5), 0 0 20px var(--accent-glow);
      transform: scale(0.8) rotateX(10deg);
      transition: transform 0.4s cubic-bezier(0.18, 1.25, 0.4, 1);
      margin: 20px;
      border: 1px solid rgba(76, 175, 80, 0.2);
    }

    #popup.active .popup-content {
      transform: scale(1) rotateX(0);
    }

    .popup-title {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 5px;
      color: white;
      position: relative;
      display: inline-block;
    }

    .popup-title-underline {
      width: 60px;
      height: 3px;
      background: linear-gradient(90deg, transparent, var(--accent-color), transparent);
      margin: 10px auto 25px;
      animation: pulse 2s infinite;
    }

    .popup-subtitle {
      font-size: 18px;
      color: white;
      margin-bottom: 10px;
      opacity: 0;
      animation: fadeIn 0.5s forwards 0.3s;
    }

    .pollution-level {
      font-size: 28px;
      font-weight: 600;
      margin: 15px 0;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      opacity: 0;
      animation: fadeIn 0.5s forwards 0.5s;
    }

    .level-indicator {
      width: 20px;
      height: 20px;
      border-radius: 4px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      animation: pulse 2s infinite;
    }

    .pollution-meter {
      width: 100%;
      height: 20px;
      background: linear-gradient(to right, var(--low-color) 33%, var(--medium-color) 33% 66%, var(--high-color) 66%);
      border-radius: 10px;
      margin: 25px 0 5px;
      position: relative;
      box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.2);
      opacity: 0;
      animation: fadeIn 0.5s forwards 0.7s;
      overflow: hidden;
    }

    .pollution-meter::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      animation: shimmer 2s infinite;
    }

    @keyframes shimmer {
      0% {
        transform: translateX(-100%);
      }
      100% {
        transform: translateX(100%);
      }
    }

    .meter-marker {
      position: absolute;
      top: 0;
      width: 4px;
      height: 20px;
      background-color: white;
      transform: translateX(-50%);
      box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
      z-index: 1;
    }

    .meter-labels {
      display: flex;
      justify-content: space-between;
      margin-bottom: 25px;
      color: var(--text-secondary);
      font-size: 14px;
      opacity: 0;
      animation: fadeIn 0.5s forwards 0.9s;
    }

    .aqi-info {
      margin: 20px 0;
      opacity: 0;
      animation: fadeIn 0.5s forwards 1.1s;
      padding: 10px;
      border-radius: 8px;
      background-color: rgba(255, 255, 255, 0.05);
    }

    .aqi-title {
      color: var(--text-secondary);
      font-size: 16px;
      margin-bottom: 5px;
    }

    .aqi-value {
      font-size: 22px;
      font-weight: 600;
      color: white;
      text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
    }

    .health-note {
      background-color: #222;
      padding: 15px;
      border-radius: 10px;
      text-align: left;
      margin: 20px 0;
      line-height: 1.5;
      font-size: 14px;
      color: white;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      border-left: 3px solid var(--accent-color);
      opacity: 0;
      animation: fadeIn 0.5s forwards 1.3s;
      transform: translateY(10px);
      animation: fadeInUp 0.5s forwards 1.3s;
    }

    .health-note i {
      color: var(--accent-color);
      margin-right: 8px;
    }

    .ai-badge {
      display: inline-flex;
      align-items: center;
      background: linear-gradient(90deg, #222, #333);
      padding: 5px 10px;
      border-radius: 20px;
      margin-top: 15px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
      opacity: 0;
      animation: fadeIn 0.5s forwards 1.5s;
      border: 1px solid rgba(76, 175, 80, 0.1);
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .ai-badge:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(76, 175, 80, 0.2);
    }

    .ai-badge i {
      color: var(--accent-color);
      margin-right: 8px;
    }

    .ai-badge span {
      font-size: 12px;
      color: var(--text-secondary);
    }

    .close-btn {
      width: 100%;
      padding: 14px;
      background-color: var(--accent-color);
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      margin-top: 15px;
      opacity: 0;
      animation: fadeIn 0.5s forwards 1.7s;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      transition: background-color 0.3s, transform 0.3s, box-shadow 0.3s;
    }

    .close-btn:hover {
      background-color: var(--accent-hover);
      transform: translateY(-2px);
      box-shadow: 0 8px 20px var(--accent-glow);
    }

    /* Loading animation */
    .loader {
      display: inline-block;
      width: 30px;
      height: 30px;
      border: 3px solid rgba(255,255,255,.3);
      border-radius: 50%;
      border-top-color: var(--accent-color);
      animation: spin 1s ease-in-out infinite;
      margin: 0 auto;
      box-shadow: 0 0 10px rgba(76, 175, 80, 0.2);
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .loading-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
      margin: 20px 0;
      animation: pulse 2s infinite;
    }

    .loading-text {
      font-size: 16px;
      color: var(--text-secondary);
      position: relative;
    }

    .loading-text::after {
      content: '...';
      position: absolute;
      animation: ellipsis 1.5s infinite;
    }

    @keyframes ellipsis {
      0% { content: '.'; }
      33% { content: '..'; }
      66% { content: '...'; }
      100% { content: '.'; }
    }

    /* Error message */
    .error-message {
      color: #f44336;
      background-color: rgba(244, 67, 54, 0.1);
      padding: 10px;
      border-radius: 8px;
      margin-top: 15px;
      font-size: 14px;
      display: none;
      border-left: 3px solid #f44336;
      animation: shake 0.5s ease;
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
      20%, 40%, 60%, 80% { transform: translateX(5px); }
    }

    /* Animated Background */
    .bg-animation {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      overflow: hidden;
    }

    .bg-animation span {
      position: absolute;
      display: block;
      width: 20px;
      height: 20px;
      background: rgba(76, 175, 80, 0.05);
      animation: animate 25s linear infinite;
      bottom: -150px;
      border-radius: 50%;
    }

    .bg-animation span:nth-child(1) {
      left: 10%;
      width: 80px;
      height: 80px;
      animation-delay: 0s;
      animation-duration: 15s;
    }

    .bg-animation span:nth-child(2) {
      left: 20%;
      width: 30px;
      height: 30px;
      animation-delay: 2s;
      animation-duration: 25s;
    }

    .bg-animation span:nth-child(3) {
      left: 35%;
      width: 100px;
      height: 100px;
      animation-delay: 4s;
      animation-duration: 20s;
    }

    .bg-animation span:nth-child(4) {
      left: 50%;
      width: 150px;
      height: 150px;
      animation-delay: 0s;
      animation-duration: 18s;
    }

    .bg-animation span:nth-child(5) {
      left: 65%;
      width: 40px;
      height: 40px;
      animation-delay: 0s;
      animation-duration: 15s;
    }

    .bg-animation span:nth-child(6) {
      left: 75%;
      width: 110px;
      height: 110px;
      animation-delay: 3s;
      animation-duration: 12s;
    }

    .bg-animation span:nth-child(7) {
      left: 90%;
      width: 50px;
      height: 50px;
      animation-delay: 7s;
      animation-duration: 25s;
    }

    @keyframes animate {
      0% {
        transform: translateY(0) rotate(0deg);
        opacity: 0.2;
        border-radius: 50%;
      }
      100% {
        transform: translateY(-1000px) rotate(720deg);
        opacity: 0;
        border-radius: 50%;
      }
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes fadeInUp {
      from { 
        opacity: 0; 
        transform: translateY(20px);
      }
      to { 
        opacity: 1; 
        transform: translateY(0);
      }
    }

    @keyframes pulse {
      0% { opacity: 0.8; }
      50% { opacity: 1; }
      100% { opacity: 0.8; }
    }

    /* Mobile Menu */
    .mobile-menu-btn {
      display: none;
      background: none;
      border: none;
      color: var(--text-primary);
      font-size: 24px;
      cursor: pointer;
      margin: 0;
      padding: 5px;
      z-index: 101;
    }

    /* Video Background */
    .video-bg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 5;
      z-index: -1;
      filter: brightness(0.7) contrast(1.2);
    }

    /* Responsive adjustments */
    @media (max-width: 992px) {
      .homepage h1 {
        font-size: 40px;
      }
      
      .homepage p {
        font-size: 16px;
      }
    }

    @media (max-width: 768px) {
      header {
        padding: 0 20px;
      }
      
      .mobile-menu-btn {
        display: block;
      }
      
      nav {
        position: fixed;
        top: var(--nav-height);
        left: 0;
        width: 100%;
        background-color: rgba(17, 17, 17, 0.95);
        backdrop-filter: blur(10px);
        padding: 0;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.5s ease;
        transform: translateX(0);
      }
      
      nav.active {
        max-height: 300px;
        box-shadow: 0 10px 20px rgba(0,0,0,0.2);
      }
      
      nav ul {
        flex-direction: column;
        padding: 20px;
      }
      
      nav ul li {
        margin: 10px 0;
      }
      
      .model-toggle-container {
        margin-left: auto;
      }
      
      .homepage h1 {
        font-size: 32px;
      }
      
      .homepage p {
        font-size: 15px;
      }
      
      .app-icon {
        width: 80px;
        height: 80px;
      }
      
      .app-icon svg {
        width: 50px;
        height: 50px;
      }
    }

    @media (max-width: 480px) {
      .homepage h1 {
        font-size: 28px;
      }
      
      .homepage p {
        font-size: 14px;
      }
      
      .cta-button {
        padding: 12px 24px;
        font-size: 16px;
      }
    }
  </style>
</head>

<body>
  <div class="bg-animation">
    <span></span>
    <span></span>
    <span></span>
    <span></span>
    <span></span>
    <span></span>
    <span></span>
  </div>

  <!-- Navigation Bar -->
  <header>
    <div class="logo">
      <span class="logo-text">AQIntel</span>
    </div>
    
    <button class="mobile-menu-btn" id="mobileMenuBtn">
      <i class="fas fa-bars"></i>
    </button>
    
    <nav id="mainNav">
      <ul>
        <li><a href="#" class="active" data-page="home">Home</a></li>
        <li><a href="#" data-page="basic">Basic Predictor</a></li>
        <li><a href="#" data-page="advanced">Advanced Predictor</a></li>
        <li><a href="#" data-page="insights">Model Insights</a></li>
      </ul>
    </nav>
    
    <div class="model-toggle-container">
      <div class="model-toggle" id="modelToggle">
        <div class="toggle-slider"></div>
      </div>
    </div>
  </header>

  <!-- Homepage -->
  <section class="homepage" id="homePage">
    <video class="video-bg" autoplay muted loop playsinline>
      <source src="C:\Users\armaa\Desktop\demo\vecteezy_3d-shapes-moving-seamless-video-background-of-dark-smooth_33240237.mp4" type="video/mp4">
    </video>
    <div class="hero-content">
      <div class="app-icon">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7C3 6.44772 3.44772 6 4 6H20C20.5523 6 21 6.44772 21 7C21 7.55228 20.5523 8 20 8H4C3.44772 8 3 7.55228 3 7Z" />
          <path d="M3 12C3 11.4477 3.44772 11 4 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13H4C3.44772 13 3 12.5523 3 12Z" />
          <path d="M3 17C3 16.4477 3.44772 16 4 16H20C20.5523 16 21 16.4477 21 17C21 17.5523 20.5523 18 20 18H4C3.44772 18 3 17.5523 3 17Z" />
        </svg>
      </div>
      <h1>Welcome to AQIntel!</h1>
      <p>Your smart companion for monitoring and understanding air quality. Get real-time insights, health tips, and stay informed with AQI predictions powered by AI.</p>
      <a href="#" class="cta-button" id="predictNowBtn">Predict Now <i class="fas fa-arrow-right"></i></a>
  </section>

  <!-- Main Content Area -->
  <div class="main-content" id="mainContent">
    <!-- Basic Interface -->
    <div id="basicInterface" class="interface">
      <h1>Basic Air Pollution Predictor</h1>
      <p class="subtitle">Our basic model classifies the air pollution level into three categories (Low, Medium, or High) based on the provided environmental data.</p>

      <div class="container">
        <!-- Input Parameters Form -->
        <div class="card">
          <h2>Input Parameters</h2>
          <form id="basicForm">
            <label for="traffic">Traffic Level</label>
            <select id="traffic" name="traffic">
              <option value="Low">Low</option>
              <option value="Medium">Medium</option>
              <option value="High">High</option>
            </select>

            <label for="indus">Industrial Activity</label>
            <select id="indus" name="indus">
              <option value="Low">Low</option>
              <option value="Medium">Medium</option>
              <option value="High">High</option>
            </select>

            <label for="temp">Temperature (Â°C)</label>
            <input type="number" id="temp" name="temp" placeholder="Enter temperature, e.g., 28" step="any">

            <label for="humidity">Humidity (%)</label>
            <input type="number" id="humidity" name="humidity" placeholder="Enter humidity, e.g., 70" step="any">

            <label for="tree">Tree Density</label>
            <input type="number" id="tree" name="tree" placeholder="Number of trees per unit area" step="any">

            <button type="submit">Predict</button>
            <div class="error-message" id="basicError"></div>
          </form>
        </div>

        <!-- Model Insights -->
        <div class="card">
          <h2>Basic Model Insights</h2>

          <table>
            <thead>
              <tr>
                <th>Class</th>
                <th>Precision</th>
                <th>Recall</th>
                <th>F1-Score</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Low</td>
                <td>87%</td>
                <td>92%</td>
                <td>89%</td>
              </tr>
              <tr>
                <td>Medium</td>
                <td>81%</td>
                <td>70%</td>
                <td>84%</td>
              </tr>
              <tr>
                <td>High</td>
                <td>91%</td>
                <td>91%</td>
                <td>91%</td>
              </tr>
            </tbody>
          </table>
          
          <div class="img-container">
            <img src="confusion_matrix.jpeg" alt="Confusion Matrix">
          </div>
          
          <div class="footer-note">
            ðŸŽ¯ Overall, the model is <span>97% accurate</span>!
          </div>
        </div>
      </div>
    </div>
    
    <!-- Advanced Interface -->
    <div id="advancedInterface" class="interface">
      <h1>Advanced Air Pollution Predictor</h1>
      <p class="subtitle">Our advanced model provides a more precise prediction using detailed air quality parameters and environmental factors.</p>

      <div class="container">
        <div class="card">
          <h2>Enter Air Quality Parameters</h2>
          <form id="advancedForm">
            <label for="no2">Nitrogen Dioxide (NOâ‚‚) (Âµg/mÂ³)</label>
            <input type="number" id="no2" name="no2" placeholder="Enter NOâ‚‚ concentration" required step="any">

            <label for="co">Carbon Monoxide (CO) (mg/mÂ³)</label>
            <input type="number" id="co" name="co" placeholder="Enter CO concentration" required step="any">

            <label for="so2">Sulfur Dioxide (SOâ‚‚) (Âµg/mÂ³)</label>
            <input type="number" id="so2" name="so2" placeholder="Enter SOâ‚‚ concentration" required step="any">

            <label for="o3">Ozone (Oâ‚ƒ) (Âµg/mÂ³)</label>
            <input type="number" id="o3" name="o3" placeholder="Enter Oâ‚ƒ concentration" required step="any">

            <label for="pm25">PM2.5 (Âµg/mÂ³)</label>
            <input type="number" id="pm25" name="pm25" placeholder="Enter PM2.5 concentration" required step="any">

            <label for="pm10">PM10 (Âµg/mÂ³)</label>
            <input type="number" id="pm10" name="pm10" placeholder="Enter PM10 concentration" required step="any">

            <label for="advTemp">Temperature (Â°C)</label>
            <input type="number" id="advTemp" name="temp" placeholder="Enter temperature" required step="any">

            <label for="advHumidity">Humidity (%)</label>
            <input type="number" id="advHumidity" name="humidity" placeholder="Enter humidity percentage" required step="any">

            <button type="submit">Predict</button>
            <div class="error-message" id="advancedError"></div>
          </form>
        </div>
        
        <div class="card">
          <h2>Advanced  Model Performance</h2>
          <table>
            <thead>
              <tr>
                <th>Metric</th>
                <th>Value</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Mean Absolute Error (MAE)</td>
                <td>15.316753399999957</td>
              </tr>
              <tr>
                <td>Root Mean Squared Error (RMSE)</td>
                <td>19.6823580958196</td>
              </tr>
              <tr>
                <td>RÂ² Score</td>
                <td>0.9101392903561701</td>
              </tr>
            </tbody>
          </table>
          <div class="img-container">
            <img src="download.jpeg" alt="Scatter Plot">
          </div>
          <div class="footer-note">
            ðŸŽ¯ This model achieves a strong <span>91% Accuracy</span>     
          </div>
          <div class="footer-note">   
            Errors are minimal !!!
          </div>
        </div>
      </div>

    <!-- Model Insights Page -->
    </div>
    <div id="insightsPage" class="interface">
      <h1>Model Insights & Performance</h1>
      <p class="subtitle">Detailed information about our air quality prediction models and their performance metrics.</p>

      <div class="container">
        <!-- Basic Model Insights -->
        <div class="card">
          <h2>Basic Model Performance</h2>
          <table>
            <thead>
              <tr>
                <th>Class</th>
                <th>Precision</th>
                <th>Recall</th>
                <th>F1-Score</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Low</td>
                <td>87%</td>
                <td>92%</td>
                <td>89%</td>
              </tr>
              <tr>
                <td>Medium</td>
                <td>81%</td>
                <td>70%</td>
                <td>84%</td>
              </tr>
              <tr>
                <td>High</td>
                <td>91%</td>
                <td>91%</td>
                <td>91%</td>
              </tr>
            </tbody>
          </table>
          
          <div class="img-container">
            <img src="confusion_matrix.jpeg" alt="Confusion Matrix">
          </div>
          
          <div class="footer-note">
            ðŸŽ¯ Overall, the basic model is <span>97% accurate</span>!
          </div>
        </div>

        <!-- Advanced Model Insights -->
        <div class="card">
          <h2>Advanced  Model Performance</h2>
          <table>
            <thead>
              <tr>
                <th>Metric</th>
                <th>Value</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Mean Absolute Error (MAE)</td>
                <td>15.316753399999957</td>
              </tr>
              <tr>
                <td>Root Mean Squared Error (RMSE)</td>
                <td>19.6823580958196</td>
              </tr>
              <tr>
                <td>RÂ² Score</td>
                <td>0.9101392903561701</td>
              </tr>
            </tbody>
          </table>
          <div class="img-container">
            <img src="download.jpeg" alt="Scatter Plot">
          </div>
          <div class="footer-note">
            ðŸŽ¯ This model achieves a strong <span>91% Accuracy</span>     
          </div>
          <div class="footer-note">   
            Errors are minimal !!!
          </div>
        </div>
      </div>

      <div class="container" style="margin-top: 30px;">
        <!-- Model Architecture -->
        <div class="card">
          <h2>Model Architecture</h2>
          <p style="margin-bottom: 10px; line-height: 1.6; text-align: left;">
           AQIntel is powered by a dual-model system optimized for real-world air quality prediction:
          </p>
          
          <ul style="text-align: left; margin-bottom: 20px; padding-left: 20px; color: var(--text-secondary);">
            <li style="margin-bottom: 10px;">Classification Model: A Random Forest Classifier that predicts the overall pollution category (Low, Moderate, High) based on key environmental features like traffic levels, industrial activity, and weather conditions.</li>
            <li style="margin-bottom: 10px;">Regression Model: A Gradient Boosting Regressor trained to predict the exact Air Quality Index (AQI) value using pollutant concentrations (PM2.5, PM10, NOâ‚‚, SOâ‚‚, Oâ‚ƒ) combined with meteorological data.</li>
          </ul>
          <div class="footer-note">
            ðŸ§  AQIntel combines flexibility, accuracy, and scalability to deliver reliable air pollution insights.
          </div>
          <div class="footer-note">
           
          </div>
          <p>
            For a detailed walkthrough of the model development and training process, refer to the Colab notebook <a href="https://colab.research.google.com/drive/14IsYvG6o-OVv7KsDKwmPMDuJ5kZMvIZ3?usp=sharing" target="_blank" style="color: var(--accent-color);">here</a>.
          </p>  
        </div>

        <!-- Model Comparison -->
        <div class="card">
          <h2>Model Comparison</h2>
          <table>
            <thead>
              <tr>
                <th>Feature</th>
                <th>Basic Model</th>
                <th>Advanced Model</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Input Parameters</td>
                <td>5</td>
                <td>8</td>
              </tr>
              <tr>
                <td>Accuracy</td>
                <td>97%</td>
                <td>91%</td>
              </tr>
              <tr>
                <td>Prediction Type</td>
                <td>Categorical</td>
                <td>Numerical + Categorical</td>
              </tr>
              <tr>
                <td>Processing Time</td>
                <td>Fast</td>
                <td>Moderate</td>
              </tr>
              <tr>
                <td>Use Case</td>
                <td>Quick Assessment</td>
                <td>Detailed Analysis</td>
              </tr>
        </tbody>
      </table>
      <div class="footer-note">
        Both models have their strengths and are designed for different use cases. The basic model provides quick assessments with fewer inputs, while the advanced model offers more detailed predictions with comprehensive parameter analysis.
      </div>
    </div>
  </div>
</div>
  
  <!-- Popup Modal -->
  <div id="popup">
    <div class="popup-content">
      <div class="popup-title">Model's Predictions</div>
      <div class="popup-title-underline"></div>
      
      <div id="popupLoading" class="loading-container">
        <div class="loader"></div>
        <div class="loading-text">AI model is analyzing data</div>
      </div>
      
      <div id="popupContent"></div>
      
      <div class="ai-badge">
        <i class="fas fa-robot"></i>
        <span>Powered by AI Model</span>
      </div>
      
      <button class="close-btn" onclick="closePopup()">Close</button>
    </div>
  </div>
  
  <script>
    // DOM Elements
    const modelToggle = document.getElementById('modelToggle');
    const basicInterface = document.getElementById('basicInterface');
    const advancedInterface = document.getElementById('advancedInterface');
    const insightsPage = document.getElementById('insightsPage');
    const homePage = document.getElementById('homePage');
    const mainContent = document.getElementById('mainContent');
    const popup = document.getElementById('popup');
    const popupContent = document.getElementById('popupContent');
    const popupLoading = document.getElementById('popupLoading');
    const basicError = document.getElementById('basicError');
    const advancedError = document.getElementById('advancedError');
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const mainNav = document.getElementById('mainNav');
    const predictNowBtn = document.getElementById('predictNowBtn');
    const navLinks = document.querySelectorAll('nav ul li a');
    
    // Mobile Menu Toggle
    mobileMenuBtn.addEventListener('click', function() {
      mainNav.classList.toggle('active');
      this.innerHTML = mainNav.classList.contains('active') 
        ? '<i class="fas fa-times"></i>' 
        : '<i class="fas fa-bars"></i>';
    });
    
    // Navigation
    navLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        
        // Update active link
        navLinks.forEach(l => l.classList.remove('active'));
        this.classList.add('active');
        
        // Close mobile menu if open
        mainNav.classList.remove('active');
        mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
        
        // Show appropriate page
        const page = this.getAttribute('data-page');
        
        if (page === 'home') {
          homePage.style.display = 'flex';
          mainContent.style.display = 'none';
          basicInterface.classList.remove('active');
          advancedInterface.classList.remove('active');
          insightsPage.classList.remove('active');
        } else {
          homePage.style.display = 'none';
          mainContent.style.display = 'block';
          
          // Hide all interfaces
          basicInterface.classList.remove('active');
          advancedInterface.classList.remove('active');
          insightsPage.classList.remove('active');
          
          // Show selected interface
          if (page === 'basic') {
            basicInterface.classList.add('active');
            modelToggle.classList.remove('advanced');
          } else if (page === 'advanced') {
            advancedInterface.classList.add('active');
            modelToggle.classList.add('advanced');
          } else if (page === 'insights') {
            insightsPage.classList.add('active');
          }
        }
      });
    });
    
    // Predict Now Button
    predictNowBtn.addEventListener('click', function(e) {
      e.preventDefault();
      
      // Navigate to basic predictor
      homePage.style.display = 'none';
      mainContent.style.display = 'block';
      
      // Update active nav link
      navLinks.forEach(l => l.classList.remove('active'));
      document.querySelector('nav ul li a[data-page="basic"]').classList.add('active');
      
      // Show basic interface
      basicInterface.classList.add('active');
      advancedInterface.classList.remove('active');
      insightsPage.classList.remove('active');
      
      // Update toggle
      modelToggle.classList.remove('advanced');
    });
    
    // Toggle Switch Functionality
    modelToggle.addEventListener('click', function() {
      this.classList.toggle('advanced');
      
      // Only toggle between basic and advanced if we're in the predictor pages
      if (homePage.style.display === 'none') {
        if (this.classList.contains('advanced')) {
          basicInterface.classList.remove('active');
          insightsPage.classList.remove('active');
          
          // Update active nav link
          navLinks.forEach(l => l.classList.remove('active'));
          document.querySelector('nav ul li a[data-page="advanced"]').classList.add('active');
          
          setTimeout(() => {
            advancedInterface.classList.add('active');
          }, 300);
        } else {
          advancedInterface.classList.remove('active');
          insightsPage.classList.remove('active');
          
          // Update active nav link
          navLinks.forEach(l => l.classList.remove('active'));
          document.querySelector('nav ul li a[data-page="basic"]').classList.add('active');
          
          setTimeout(() => {
            basicInterface.classList.add('active');
          }, 300);
        }
      }
    });

    // Basic Form Submission
    document.getElementById('basicForm').addEventListener('submit', function (e) {
      e.preventDefault();
      basicError.style.display = 'none';

      // Get form values
      const traffic = document.getElementById('traffic').value;
      const industry = document.getElementById('indus').value;
      const temperature = document.getElementById('temp').value;
      const humidity = document.getElementById('humidity').value;
      const tree = document.getElementById('tree').value;

      // Validate inputs
      if (!temperature || !humidity || !tree) {
        basicError.textContent = "Please fill in all fields";
        basicError.style.display = 'block';
        return;
      }

      // Show loading popup
      showLoadingPopup();
      
      // Prepare data for API
      const payload = {
        input1: traffic,
        input2: industry,
        input3: temperature,
        input4: humidity,
        input5: tree
      };

      // Call API
      fetch('https://api-thing-model-1.onrender.com/predict', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(payload)
      })
      .then(response => {
        if (!response.ok) {
          throw new Error('Network response was not ok');
        }
        return response.json();
      })
      .then(data => {
        // Process the prediction result
        if (data.error) {
          throw new Error(data.error);
        }
        
        // Format the prediction result
        let level = data.prediction.toUpperCase();
        let range = "";
        
        if (level === "LOW") {
          range = "0-50";
        } else if (level === "MODERATE") {
          range = "51-100";
        } else if (level === "HIGH") {
          range = "101-150+";
        }
        
        // Display result
        displayPredictionResult({
          prediction: {
            level: level,
            range: range,
            isBasic: true
          }
        });
      })
      .catch(error => {
        basicError.textContent = `Error: ${error.message}`;
        basicError.style.display = 'block';
        closePopup();
      });
    });

    // Advanced Form Submission
    document.getElementById('advancedForm').addEventListener('submit', function (e) {
      e.preventDefault();
      
      // Clear any previous error messages
      advancedError.style.display = 'none';

      // Get form values
      const no2 = document.getElementById('no2').value;
      const co = document.getElementById('co').value;
      const so2 = document.getElementById('so2').value;
      const o3 = document.getElementById('o3').value;
      const pm25 = document.getElementById('pm25').value;
      const pm10 = document.getElementById('pm10').value;
      const temp = document.getElementById('advTemp').value;
      const humidity = document.getElementById('advHumidity').value;

      // Validate inputs
      if (!no2 || !co || !so2 || !o3 || !pm25 || !pm10 || !temp || !humidity) {
        advancedError.textContent = "Please fill in all fields";
        advancedError.style.display = 'block';
        return;
      }

      // Show loading popup
      showLoadingPopup();
      
      // Prepare data for API
      const payload = {
        no2: no2,
        co: co,
        so2: so2,
        o3: o3,
        pm25: pm25,
        pm10: pm10,
        temp: temp,
        humidity: humidity
      };

      // Call API
      fetch('https://api-thing-2.onrender.com/predict', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(payload)
      })
      .then(response => {
        if (!response.ok) {
          throw new Error('Network response was not ok');
        }
        return response.json();
      })
      .then(data => {
        // Process the prediction result
        if (data.error) {
          throw new Error(data.error);
        }
        
        // Determine pollution level based on AQI
        let level = "LOW";
        let range = "0-50";
        
        if (data.aqi > 100) {
          level = "HIGH";
          range = "101-150+";
        } else if (data.aqi > 50) {
          level = "MODERATE";
          range = "51-100";
        }
        
        // Display result
        displayPredictionResult({
          prediction: {
            level: level,
            aqi: Math.round(data.aqi),
            range: range,
            isBasic: false
          }
        });
      })
      .catch(error => {
        advancedError.textContent = `Error: ${error.message}`;
        advancedError.style.display = 'block';
        closePopup();
      });
    });

    // Display prediction result in popup
    function displayPredictionResult(result) {
      // Hide loading indicator after a short delay to ensure it's seen
      setTimeout(() => {
        popupLoading.style.display = 'none';
        
        // Get prediction data
        const prediction = result.prediction;
        const level = prediction.level;
        const color = getPollutionColor(level);
        
        // Determine the meter position based on level
        let meterPosition = "16.5%"; // Default for LOW
        if (level === "MODERATE") {
          meterPosition = "50%";
        } else if (level === "HIGH") {
          meterPosition = "83.5%";
        }
        
        // Determine the note based on level
        let note = "";
        if (level === "LOW") {
          note = "Air quality is good and safe for everyone, including sensitive groups like children and elderly people with respiratory issues. You can enjoy outdoor activities freely.";
        } else if (level === "MODERATE") {
          note = "Air quality is moderately polluted. It may be acceptable for the general public, but sensitive individuals (like children, elderly, and people with respiratory or heart conditions) should consider limiting prolonged outdoor exposure.";
        } else if (level === "HIGH") {
          note = "Air quality is considered unhealthy. Everyone may begin to experience health effects. Sensitive groups should stay indoors, and even healthy individuals are advised to reduce outdoor exertion.";
        }
        
        // Get the appropriate icon for the note
        let noteIcon = "âœ…";
        if (level === "MODERATE") {
          noteIcon = "ðŸŸ¨";
        } else if (level === "HIGH") {
          noteIcon = "âš ï¸";
        }
        
        // Create HTML content
        let html = `
          <div class="popup-subtitle">Air Pollution Level:</div>
          <div class="pollution-level" style="color: ${color}">
            ${level} <div class="level-indicator" style="background-color: ${color}"></div>
          </div>
          
          <div class="pollution-meter">
            <div class="meter-marker" style="left: ${meterPosition}"></div>
          </div>
          
          <div class="meter-labels">
            <span>Low</span>
            <span>Medium</span>
            <span>High</span>
          </div>
          
          <div class="aqi-info">
            <div class="aqi-title">${prediction.isBasic ? 'Approximate AQI range:' : 'AQI Value:'}</div>
            <div class="aqi-value">${prediction.isBasic ? prediction.range : prediction.aqi}</div>
          </div>
          
          <div class="health-note">
            ${noteIcon} ${note}
          </div>
        `;
        
        // Set content and show popup
        popupContent.innerHTML = html;
        popupContent.style.display = 'block';
      }, 1500); // Show loading for 1.5 seconds
    }

    // Show loading popup
    function showLoadingPopup() {
      popupContent.style.display = 'none';
      popupLoading.style.display = 'flex';
      popup.style.display = 'flex';
      
      // Add animation
      setTimeout(() => {
        popup.classList.add('active');
      }, 10);
    }

    // Close popup
    function closePopup() {
      popup.classList.remove('active');
      
      setTimeout(() => {
        popup.style.display = 'none';
        // Reset popup state
        popupLoading.style.display = 'none';
        popupContent.style.display = 'block';
      }, 300);
    }

    // Get color based on pollution level
    function getPollutionColor(level) {
      switch(level) {
        case "LOW":
          return "#4CAF50";
        case "MODERATE":
          return "#FFC107";
        case "HIGH":
          return "#F44336";
        default:
          return "#4CAF50";
      }
    }

    // Add animations to form inputs
    const inputs = document.querySelectorAll('input, select');
    inputs.forEach(input => {
      input.addEventListener('focus', function() {
        this.parentElement.querySelector('label').style.color = '#4CAF50';
      });
      
      input.addEventListener('blur', function() {
        this.parentElement.querySelector('label').style.color = '';
      });
    });

    // Page load animations
    document.addEventListener('DOMContentLoaded', function() {
      const cards = document.querySelectorAll('.card');
      cards.forEach((card, index) => {
        setTimeout(() => {
          card.style.opacity = '1';
          card.style.transform = 'translateY(0)';
        }, 200 * (index + 1));
      });
    });

    // Make sure error messages are properly initialized
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize error messages
      basicError.style.display = 'none';
      advancedError.style.display = 'none';
    });
  </script>
</body>
</html>
